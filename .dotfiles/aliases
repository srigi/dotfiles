# shortcuts
alias c='pygmentize -O style=monokai -f console256 -g'
alias dl="cd ~/Downloads"
alias s="subl ."

alias cleanup="find $HOME -type f -name '*.DS_Store' -ls -delete"  	# recursively delete `.DS_Store` files from $HOME
alias ls='gls -lAFh --color --group-directories-first'
alias sudo='sudo '													# enable aliases to be sudoâ€™ed
#alias sudo='A=`alias` sudo env '									# save current ENV when sudo

alias composer="php -n -c ~/.dotfiles/php.cli.ini ~/bin/composer.phar"
alias npmls="npm list --depth=0 2>/dev/null"
alias npmo="npm outdated --depth 0"

# networking aliases
alias flush="sudo dscacheutil -flushcache && sudo killall -HUP mDNSResponder"
alias httpdump="sudo tcpdump -i lo0 -n -s 0 -w - | grep -a -o -E \"Host\: .*|GET \/.*\""
alias lsports='lsof -Pni4 | grep LISTEN'
alias lsportss='netstat -an | grep LISTEN'
alias sniff="sudo ngrep -d 'lo0' -t '^(DELETE|GET|OPTIONS|POST|PUT) ' 'tcp and port 80'"

# intuitive map function
# for example, to list all directories that contain a certain file:
#   find . -name .gitattributes | map dirname
alias map="xargs -n1"


function t() {
	ignore='"node_modules|.git"'
	cmd="tree -a -C --dirsfirst -I $ignore"

	if [[ $1 -eq 0 ]]; then
		cmd="$cmd -L 1"
	fi

	if [[ $1 =~ '^[0-9]+$' ]]; then
		cmd="$cmd -L"
	fi

	eval $cmd $@
}

alias t2="t 2"
alias t3="t 3"
alias t4="t 4"
alias t5="t 5"
